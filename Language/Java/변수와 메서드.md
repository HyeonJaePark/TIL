### 변수의 종류

|  변수의 종류  |                           선언위치                           |          생성시기           |
| :-----------: | :----------------------------------------------------------: | :-------------------------: |
|  클래스 변수  |                         클래스 영역                          | 클래스가 메모리에 올라갈 때 |
| 인스턴스 변수 |                         클래스 영역                          |  인스턴스가 생성되었을 때   |
|   지역 변수   | 클래스 영역 이외의 영역<br>(메서드, 생성자, 초기화 블럭내부) | 변수 선언문이 수행되었을 때 |

```java
class Variables {
    int iv; // 클래스 변수
    static int cv; // 인스턴스 변수

    void method1() {
        int lv = 0; // 지역 변수
    }
}
```

1. 인스턴스 변수  
   클래스 영역에 선언되며 클래스의 인스턴스를 생성할 때 만들어진다. 인스턴스 변수를 사용하려면 항상 인스턴스를 먼저 생성해야 한다. 인스턴스는 독립적인 공간을 가지므로 서로 다른 값을 가질 수 있다.

2. 클래스 변수
   클래스 영역에 선언되며 클래스가 메모리에 올라갈 때 만들어진다. 따라서 인스턴스 변수와 달리 인스턴스를 생성하지 않고도 사용할 수 있다. '클래스명.변수명' 과 같이 사용하면 된다. 프로그램이 종료될 때까지 유지가 된다. 앞에 public을 붙이면 프로그램 내에서 자유롭게 접근할 수 있는 '전역 변수'가 된다. 선언 방법은 인스턴스 변수 앞에 static을 붙이면 된다. 클래스 변수는 공통된 저장공간을 사용하기 때문에 서로 같은 값을 갖는다.

3. 지역 변수
   멤버 변수가 아닌 변수는 모두 지역 변수이다. 메서드 내에서만 사용 가능하고, 메서드가 종료되면 소멸된다. for문, while문에서는 {}블럭을 벗어나면 소멸된다.

---

### 메서드

메서드는 특정 작업을 수행하는 일련의 문장들을 하나로 묶은 것이다.

---

### 메서드 사용의 장점

1. 높은 재사용성
2. 중복된 코드의 제거
3. 프로그램의 구조화

---

### JVM 메모리 구조

![JVM 메모리 구조](./asset/JVM%20%EB%A9%94%EB%AA%A8%EB%A6%AC%20%EA%B5%AC%EC%A1%B0.png)

1. 메서드 영역
   프로그램 실행 중 클래스가 사용되면 클래스파일을 읽어서 정보를 저장한다. 클래스 변수도 함께 저장된다.

2. 힙
   인스턴스가 생성되는 공간이다

3. 호출 스택
   메서드의 작업에 필요한 메모리 공간을 제공한다. 메서드 작업을 수행하는 동안 지역 변수들과 중간 연산 결과 등을 저장한다. 메서드가 종료되면 사용한 메모리 공간을 반환한다.

---

### 기본형 매개변수와 참조현 매개변수

기본형 변수: 변수의 값을 읽기만 할 수 있다.  
참조형 변수: 변수의 값을 읽고 변경할 수 있다.  
메서드를 호출하면 기본형 변수는 값을 복사하여 넘겨주지만 참조형 변수는 인스턴스의 주소를 넘겨준다.

```java
class ReferenceParamEx2 {
    public static void main(String args[]) {
        int[] x = {10};
        System.out.println("main() : x = " + x[0]);

        change(x);

        System.out.println("After change(x)");
        System.out.println("main() : x = " + x[0]);
    }

    static void change(int[] x) {
        x[0] = 1000;
        System.out.println("change() : x = " + x[0]);
    }
}
```

배열도 객체와 같이 참조변수를 통해서 데이터가 저장된 공간에 접근한다. 따라서 위 예제에서 change() 메서드를 통해서 x[0]의 값이 100에서 1000으로 변하게 된다.

---

### 클래스 메서드와 인스턴스 메서드

클래스 메서드는 클래스 변수와 똑같이 미리 선언하지 않고 사용할 수 있다. '클래스명.메서드명(매개변수)'의 형태로 사용할 수 있다. 인스턴스 메서드는 반드시 인스턴스를 생성한 후에 사용 가능하다.  
인스턴스 메서드는 인스턴스 변수와 관련된 작업을 하므로, 메서드 작업 시 인스턴스 변수를 필요로 한다. 따라서 객체가 미리 생성되어야 한다.

1. 멤버변수 중 모든 인스턴스에 공통으로 사용되는 것은 static을 붙인다.
2. static 변수는 인스턴스 생성을 하지 않고도 사용 가능하다.
3. static 메서드는 인스턴스 변수를 사용할 수 없다.  
   static 메서드는 객체를 생성하지 않고 사용할 수 있지만 인스턴스 변수를 그럴 수 없기 때문에 사용을 할 수 없다.
4. 메서드 내에서 인스턴스 변수를 사용하지 않는다면 static을 붙이는 것을 고려하라.  
   메서드 호출 시간이 짧아진다.

---

### 클래스 멤버와 인스턴스 멤버간의 참조와 호출

같은 클래스에 속한 멤버들 사이에서는 인스턴스를 생성하지 않고 참조와 호출이 가능하다. 단, 클래스 멤버가 인스턴스 멤버를 참조 또는 호출할 때에는 인스턴스를 생성해야 한다.  
<b>인스턴스 멤버가 존재하는 시점에 클래스 멤버는 항상 존재하지만, 클래스 멤버가 존재하는 시점에는 인스턴스 멤버가 존재하지 않을 수 있기 때문이다.</b>

---

#### Reference

<a href="https://mblogthumb-phinf.pstatic.net/MjAxOTExMTdfOTIg/MDAxNTczOTU5NTE3NDIz.9ftOZ6qvpMRHEZpBJFTYybLRuhH6jaCE8dNJtlnggg0g.geJldMCBn-iFWicQ7S8Bje3ehtgABWo0iHIiC4UkIAwg.PNG.indigosky94/image.png?type=w800">JVM의 메모리 구조 </a>
